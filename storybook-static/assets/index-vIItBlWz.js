import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{c as te,u as de,a as Ae,b as B,i as ie}from"./useSlot-FnrOy7uq.js";import{d as ze}from"./styled-components.browser.esm-Bwj2GSdY.js";import{C as re}from"./Colors-BCsKZ4GV.js";import{r as c}from"./iframe-CWrSSH7G.js";import{g as Le,d as W,e as pe,f as Pe,u as Te,c as _,h as Ie,i as je}from"./DefaultPropsProvider-Cab5bodk.js";import{g as Ee,m as me}from"./memoTheme-CuuAs1rV.js";function $e({controlled:e,default:o,name:n,state:p="value"}){const{current:u}=c.useRef(e!==void 0),[v,m]=c.useState(o),r=u?e:v,F=c.useCallback(C=>{u||m(C)},[]);return[r,F]}const He={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},Ne=c.createContext(),Oe=()=>c.useContext(Ne)??!1,ce=te(s.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),ke=te(s.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Be=te(s.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function qe(e){return Le("MuiRating",e)}const k=Ee("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function De(e){const o=e.toString().split(".")[1];return o?o.length:0}function oe(e,o){if(e==null)return e;const n=Math.round(e/o)*o;return Number(n.toFixed(De(o)))}const Ue=e=>{const{classes:o,size:n,readOnly:p,disabled:u,emptyValueFocused:v,focusVisible:m}=e,r={root:["root",`size${pe(n)}`,u&&"disabled",m&&"focusVisible",p&&"readOnly"],label:["label","pristine"],labelEmptyValue:[v&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Ie(r,qe,o)},Xe=W("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[{[`& .${k.visuallyHidden}`]:o.visuallyHidden},o.root,o[`size${pe(n.size)}`],n.readOnly&&o.readOnly]}})(me(({theme:e})=>({display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${k.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${k.focusVisible} .${k.iconActive}`]:{outline:"1px solid #999"},[`& .${k.visuallyHidden}`]:He,variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(30)}},{props:({ownerState:o})=>o.readOnly,style:{pointerEvents:"none"}}]}))),fe=W("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:e},o)=>[o.label,e.emptyValueFocused&&o.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:e})=>e.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),_e=W("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.icon,n.iconEmpty&&o.iconEmpty,n.iconFilled&&o.iconFilled,n.iconHover&&o.iconHover,n.iconFocus&&o.iconFocus,n.iconActive&&o.iconActive]}})(me(({theme:e})=>({display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:o})=>o.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:o})=>o.iconEmpty,style:{color:(e.vars||e).palette.action.disabled}}]}))),We=W("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>Pe(e)&&e!=="iconActive",overridesResolver:(e,o)=>{const{iconActive:n}=e;return[o.decimal,n&&o.iconActive]}})({position:"relative",variants:[{props:({iconActive:e})=>e,style:{transform:"scale(1.2)"}}]});function Je(e){const{value:o,...n}=e;return s.jsx("span",{...n})}function ue(e){const{classes:o,disabled:n,emptyIcon:p,focus:u,getLabelText:v,highlightSelectedOnly:m,hover:r,icon:F,IconContainerComponent:C,isActive:V,itemValue:f,labelProps:b,name:j,onBlur:w,onChange:J,onClick:M,onFocus:A,readOnly:q,ownerState:E,ratingValue:i,ratingValueRounded:S,slots:Y={},slotProps:G={}}=e,x=m?f===i:f<=i,$=f<=r,D=f<=u,H=f===S,U=`${j}-${de()}`,N={slots:Y,slotProps:G},[z,K]=B("icon",{elementType:_e,className:_(o.icon,x?o.iconFilled:o.iconEmpty,$&&o.iconHover,D&&o.iconFocus,V&&o.iconActive),externalForwardedProps:N,ownerState:{...E,iconEmpty:!x,iconFilled:x,iconHover:$,iconFocus:D,iconActive:V},additionalProps:{value:f},internalForwardedProps:{as:C}}),[d,L]=B("label",{elementType:fe,externalForwardedProps:N,ownerState:{...E,emptyValueFocused:void 0},additionalProps:{style:b==null?void 0:b.style,htmlFor:U}}),g=s.jsx(z,{...K,children:p&&!x?p:F});return q?s.jsx("span",{...b,children:g}):s.jsxs(c.Fragment,{children:[s.jsxs(d,{...L,children:[g,s.jsx("span",{className:o.visuallyHidden,children:v(f)})]}),s.jsx("input",{className:o.visuallyHidden,onFocus:A,onBlur:w,onChange:J,onClick:M,disabled:n,value:f,id:U,type:"radio",name:j,checked:H})]})}const Ye=s.jsx(ke,{fontSize:"inherit"}),Ge=s.jsx(Be,{fontSize:"inherit"});function Ke(e){return`${e||"0"} Star${e!==1?"s":""}`}const Qe=c.forwardRef(function(o,n){const p=Te({name:"MuiRating",props:o}),{component:u="span",className:v,defaultValue:m=null,disabled:r=!1,emptyIcon:F=Ge,emptyLabelText:C="Empty",getLabelText:V=Ke,highlightSelectedOnly:f=!1,icon:b=Ye,IconContainerComponent:j=Je,max:w=5,name:J,onChange:M,onChangeActive:A,onMouseLeave:q,onMouseMove:E,precision:i=1,readOnly:S=!1,size:Y="medium",value:G,slots:x={},slotProps:$={},...D}=p,H=de(J),[U,N]=$e({controlled:G,default:m,name:"Rating"}),z=oe(U,i),K=Oe(),[{hover:d,focus:L},g]=c.useState({hover:-1,focus:-1});let P=z;d!==-1&&(P=d),L!==-1&&(P=L);const[ve,Q]=c.useState(!1),ne=c.useRef(),ye=Ae(ne,n),ge=t=>{E&&E(t);const a=ne.current,{right:l,left:X,width:T}=a.getBoundingClientRect();let I;K?I=(l-t.clientX)/T:I=(t.clientX-X)/T;let y=oe(w*I+i/2,i);y=je(y,i,w),g(R=>R.hover===y&&R.focus===y?R:{hover:y,focus:y}),Q(!1),A&&d!==y&&A(t,y)},he=t=>{q&&q(t);const a=-1;g({hover:a,focus:a}),A&&d!==a&&A(t,a)},ae=t=>{let a=t.target.value===""?null:parseFloat(t.target.value);d!==-1&&(a=d),N(a),M&&M(t,a)},be=t=>{t.clientX===0&&t.clientY===0||(g({hover:-1,focus:-1}),N(null),M&&parseFloat(t.target.value)===z&&M(t,null))},Se=t=>{ie(t.target)&&Q(!0);const a=parseFloat(t.target.value);g(l=>({hover:l.hover,focus:a}))},xe=t=>{if(d!==-1)return;ie(t.target)||Q(!1);const a=-1;g(l=>({hover:l.hover,focus:a}))},[Re,se]=c.useState(!1),O={...p,component:u,defaultValue:m,disabled:r,emptyIcon:F,emptyLabelText:C,emptyValueFocused:Re,focusVisible:ve,getLabelText:V,icon:b,IconContainerComponent:j,max:w,precision:i,readOnly:S,size:Y},h=Ue(O),Z={slots:x,slotProps:$},[Fe,Ce]=B("root",{ref:ye,className:_(h.root,v),elementType:Xe,externalForwardedProps:{...Z,...D,component:u},getSlotProps:t=>({...t,onMouseMove:a=>{var l;ge(a),(l=t.onMouseMove)==null||l.call(t,a)},onMouseLeave:a=>{var l;he(a),(l=t.onMouseLeave)==null||l.call(t,a)}}),ownerState:O,additionalProps:{role:S?"img":null,"aria-label":S?V(P):null}}),[Ve,we]=B("label",{className:_(h.label,h.labelEmptyValue),elementType:fe,externalForwardedProps:Z,ownerState:O}),[Me,le]=B("decimal",{className:h.decimal,elementType:We,externalForwardedProps:Z,ownerState:O});return s.jsxs(Fe,{...Ce,children:[Array.from(new Array(w)).map((t,a)=>{const l=a+1,X={classes:h,disabled:r,emptyIcon:F,focus:L,getLabelText:V,highlightSelectedOnly:f,hover:d,icon:b,IconContainerComponent:j,name:H,onBlur:xe,onChange:ae,onClick:be,onFocus:Se,ratingValue:P,ratingValueRounded:z,readOnly:S,ownerState:O,slots:x,slotProps:$},T=l===Math.ceil(P)&&(d!==-1||L!==-1);if(i<1){const I=Array.from(new Array(1/i));return c.createElement(Me,{...le,key:l,className:_(le.className,T&&h.iconActive),iconActive:T},I.map((y,R)=>{const ee=oe(l-1+(R+1)*i,i);return s.jsx(ue,{...X,isActive:!1,itemValue:ee,labelProps:{style:I.length-1===R?{}:{width:ee===P?`${(R+1)*i*100}%`:"0%",overflow:"hidden",position:"absolute"}}},ee)}))}return s.jsx(ue,{...X,isActive:T,itemValue:l},l)}),!S&&!r&&s.jsxs(Ve,{...we,children:[s.jsx("input",{className:h.visuallyHidden,value:"",id:`${H}-empty`,type:"radio",name:H,checked:z==null,onFocus:()=>se(!0),onBlur:()=>se(!1),onChange:ae}),s.jsx("span",{className:h.visuallyHidden,children:C})]})]})}),Ze=ze(Qe)`
  & .MuiRating-iconFilled {
    color: ${e=>e.$color};
  }
  & .MuiRating-iconEmpty {
    color: ${e=>e.$emptyIconColor};
  }
  & .MuiRating-iconFraction {
    color: ${e=>e.$color};
  }
`,eo=e=>{switch(e){case"small":return{fontSize:"20px"};case"large":return{fontSize:"40px"};case"medium":default:return{fontSize:"30px"}}},oo=({color:e=re["warning-400"],size:o="medium",emptyIconColor:n=re["neutral-100"],defaultValue:p,value:u,readOnly:v=!1,...m})=>{const r=eo(o);return s.jsx(Ze,{size:o,$color:e,$emptyIconColor:n,precision:.1,icon:s.jsx(ce,{style:r}),emptyIcon:s.jsx(ce,{style:{...r}}),defaultValue:p,value:u,readOnly:v,...m})};oo.__docgenInfo={description:`@param {string} props.color - The color of the filled stars.\r
@param {string} props.emptyIconColor - Custom color for empty stars.\r
@param {'small' | 'medium' | 'large'} props.size - The size of the rating component.\r
@param {number} props.defaultValue - The default value of the rating.\r
@param {number} props.value - The controlled value of the rating.\r
@param {boolean} props.readOnly - If true, the rating will be read-only.\r
@returns {JSX}`,methods:[],displayName:"Rating",props:{color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"Colors['warning-400']",computed:!0}},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'medium'",computed:!1}},emptyIconColor:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"Colors['neutral-100']",computed:!0}},defaultValue:{required:!1,tsType:{name:"number"},description:""},value:{required:!1,tsType:{name:"number"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["MuiRatingProps"]};export{oo as R};
